{"version":3,"sources":["webpack:///./src/features/draft-js/components/EditorMarkdownShortcuts.js"],"names":["EditorMarkdownShortcuts","props","handleEditorChange","bind","focus","state","editorState","EditorState","createEmpty","plugins","createMarkdownShortcutsPlugin","focusable","view","PropTypes","object","isRequired","this","editor","setState","updateEditorState","combined_editor_state","acceptSelection","getSelection","className","onClick","ref","element","onChange","placeholder","Component"],"mappings":"s6CAQMA,E,sQAEF,WAAYC,GAAO,a,4FAAA,UACf,cAAMA,IAEDC,mBAAqB,EAAKA,mBAAmBC,KAAxB,MAC1B,EAAKC,MAAQ,EAAKA,MAAMD,KAAX,MAEb,EAAKE,MAAQ,CAETC,YAAaC,cAAYC,cACzBC,QAAS,CAACC,QATC,E,yCA+CnB,WACI,MAAO,CACHC,WAAW,K,qBAInB,WACI,MAAO,CACHC,KAAMC,IAAUC,OAAOC,WACvBT,YAAaO,IAAUC,OAAOC,gB,kCA3CtC,WACQC,KAAKf,MAAMW,KAAKR,OAChBY,KAAKZ,U,mBAIb,WACIY,KAAKC,OAAOb,U,gCAGhB,SAAmBE,GAEfU,KAAKE,SAAS,CAAEZ,gBAEhBU,KAAKf,MAAMkB,kBAAkBb,K,oBAGjC,WAAS,WAECc,EAAwBb,cAAYc,gBAAgBL,KAAKf,MAAMK,YAAaU,KAAKX,MAAMC,YAAYgB,gBAEzG,OACI,yBAAKC,UAAU,yBAAyBC,QAASR,KAAKZ,OAClD,kBAAC,IAAD,CACIqB,IAAK,SAACC,GAAc,EAAKT,OAASS,GAClCpB,YAAac,EACbO,SAAUX,KAAKd,mBACf0B,YAAY,qBACZnB,QAASO,KAAKX,MAAMI,gB,8BA3CFoB,aA+DvB7B","file":"4.aec8e3f282fb3b01ee9d.js","sourcesContent":["import React, {Component} from 'react';\nimport {EditorState} from 'draft-js';\nimport Editor from 'draft-js-plugins-editor';\nimport 'draft-js/dist/Draft.css';\nimport '../styles/editorView.css';\nimport PropTypes from \"prop-types\";\nimport createMarkdownShortcutsPlugin from 'draft-js-markdown-shortcuts-plugin';\n\nclass EditorMarkdownShortcuts extends Component {\n\n    constructor(props) {\n        super(props);\n        // bind local event handlers\n        this.handleEditorChange = this.handleEditorChange.bind(this);\n        this.focus = this.focus.bind(this);\n        // initialise state\n        this.state = {\n            // non-text state\n            editorState: EditorState.createEmpty(),\n            plugins: [createMarkdownShortcutsPlugin()]\n        };\n    }\n\n    componentDidMount() {\n        if (this.props.view.focus) {\n            this.focus();\n        }\n    }\n\n    focus() {\n        this.editor.focus();\n    }\n\n    handleEditorChange(editorState) {\n        // update local state to maintain non-text attributes (e.g. selection)\n        this.setState({ editorState })\n        // call Redux action to update other views\n        this.props.updateEditorState(editorState);\n    }\n\n    render() {\n        // combine text from props with non-text from state\n        const combined_editor_state = EditorState.acceptSelection(this.props.editorState, this.state.editorState.getSelection());\n        // const combined_editor_state = this.state.editorState;\n        return (\n            <div className=\"markdown-editor editor\" onClick={this.focus}>\n                <Editor\n                    ref={(element) => { this.editor = element; }}\n                    editorState={combined_editor_state}\n                    onChange={this.handleEditorChange}\n                    placeholder=\"write something...\"\n                    plugins={this.state.plugins}\n                />\n            </div>\n        );\n    }\n\n    static get characteristics() {\n        return {\n            focusable: true\n        };\n    }\n\n    static get propTypes() {\n        return {\n            view: PropTypes.object.isRequired,\n            editorState: PropTypes.object.isRequired,\n        };\n    }\n}\n\nexport default EditorMarkdownShortcuts;\n"],"sourceRoot":""}